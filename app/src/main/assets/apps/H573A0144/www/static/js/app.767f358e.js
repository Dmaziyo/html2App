(function(t){function n(n){for(var r,i,u=n[0],c=n[1],s=n[2],l=0,d=[];l<u.length;l++)i=u[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(n);while(d.length)d.shift()();return a.push.apply(a,s||[]),e()}function e(){for(var t,n=0;n<a.length;n++){for(var e=a[n],r=!0,i=1;i<e.length;i++){var u=e[i];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),t=c(c.s=e[0]))}return t}var r={},i={app:0},o={app:0},a=[];function u(t){return c.p+"static/js/"+({}[t]||t)+"."+{"chunk-13237a90":"f8bb911d","chunk-3b52079b":"95ab6960","chunk-716a7002":"e106a4a5","chunk-81fd3794":"4f83ed27"}[t]+".js"}function c(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var n=[],e={"chunk-13237a90":1,"chunk-3b52079b":1,"chunk-716a7002":1,"chunk-81fd3794":1};i[t]?n.push(i[t]):0!==i[t]&&e[t]&&n.push(i[t]=new Promise((function(n,e){for(var r="static/css/"+({}[t]||t)+"."+{"chunk-13237a90":"3196081d","chunk-3b52079b":"38d577d6","chunk-716a7002":"e24163fd","chunk-81fd3794":"5e047a24"}[t]+".css",o=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=a[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return n()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===r||l===o)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var r=n&&n.target&&n.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete i[t],f.parentNode.removeChild(f),e(a)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){i[t]=0})));var r=o[t];if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(n,e){r=o[t]=[n,e]}));n.push(r[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(t);var d=new Error;s=function(n){l.onerror=l.onload=null,clearTimeout(f);var e=o[t];if(0!==e){if(e){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,e[1](d)}o[t]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},c.m=t,c.c=r,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)c.d(e,r,function(n){return t[n]}.bind(null,r));return e},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var f=l;a.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"067a":function(t,n,e){},2292:function(t,n,e){},"365c":function(t,n,e){"use strict";e.d(n,"c",(function(){return l})),e.d(n,"b",(function(){return d})),e.d(n,"a",(function(){return f})),e.d(n,"e",(function(){return m})),e.d(n,"d",(function(){return h}));e("d3b7"),e("d9e2"),e("25f0"),e("d81d"),e("fb6a");var r=e("bc3a"),i=e.n(r),o=e("2b0e"),a=i.a.create({baseURL:"http://localhost:3000"});a.interceptors.response.use((function(t){return window.response=t,200===t.status&&200===t.data.code?t.data:Promise.reject(t)}),(function(t){return o["a"].prototype.$mzToast(t.response?t.response.data.message:"网络连接错误"),t}));var u=a,c=e("eb4d"),s=e("db49");function l(t){return new Promise((function(n,e){u.get("/playlist/detail",{params:{id:t}}).then((function(t){var n=t.playlist;return n||{}})).then((function(t){var r=t.trackIds,i=t.tracks;if(Array.isArray(r)){if(i.length===r.length)return t.tracks=Object(c["b"])(t.tracks),void n(t);var o=r.slice(0,500).map((function(t){return t.id})).toString();d(o).then((function(e){var r=e.songs;t.tracks=Object(c["b"])(r),n(t)}))}else e(new Error("获取歌单详细失败"))}))}))}function d(t){return u.get("/song/detail",{params:{ids:t}})}function f(t){return u.get("/lyric",{params:{id:t}})}function m(){return u.get("/search/hot")}function h(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s["a"];return u.get("/search",{params:{offset:n*e,limit:e,keywords:t}})}},"56d7":function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"audioEle",(function(){return P})),e.d(r,"mode",(function(){return z})),e.d(r,"playing",(function(){return I})),e.d(r,"playList",(function(){return D})),e.d(r,"orderList",(function(){return A})),e.d(r,"currentIndex",(function(){return $})),e.d(r,"currentMusic",(function(){return N})),e.d(r,"historyList",(function(){return M})),e.d(r,"uid",(function(){return U}));var i={};e.r(i),e.d(i,"setPlaylist",(function(){return J})),e.d(i,"setHistory",(function(){return Y})),e.d(i,"removeHistory",(function(){return q})),e.d(i,"selectPlay",(function(){return F})),e.d(i,"selectAddPlay",(function(){return G})),e.d(i,"removePlayList",(function(){return K}));e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("mz-header"),e("router-view",{staticClass:"router-view"}),e("audio",{ref:"mzPlayer"})],1)},u=[],c=e("5530"),s=(e("fb6a"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",{staticClass:"mz-header"},[t._m(0),e("div",{staticClass:"user"},[e("div",{staticClass:"user-btn",on:{click:function(n){return t.openDialog(0)}}},[t._v("登录")])]),e("mz-dialog",{ref:"loginDialog",attrs:{"head-text":"登录","confirm-btn-text":"登录","cancel-btn-text":"关闭"},on:{confirm:t.login}},[e("div",{staticClass:"mz-dialog-text"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.uidValue,expression:"uidValue",modifiers:{trim:!0}}],staticClass:"mz-dialog-input",attrs:{autofocus:"",placeholder:"请输入您的网易云UID",type:"number"},domProps:{value:t.uidValue},on:{input:function(n){n.target.composing||(t.uidValue=n.target.value.trim())},blur:function(n){return t.$forceUpdate()}}})]),e("div",{attrs:{slot:"btn"},on:{click:function(n){return t.openDialog(1)}},slot:"btn"},[t._v("帮助")])]),e("mz-dialog",{ref:"helpDialog",attrs:{"head-text":"登录帮助","confirm-btn-text":"去登录","cancel-btn-text":"关闭"},on:{confirm:function(n){return t.openDialog(0)}}},[e("div",{staticClass:"mz-dialog-text"},[e("ol",[e("li",[e("a",{attrs:{target:"_blank",href:"https://music.163.com/"}},[t._v("点我(https://music.163.com/)")]),t._v("打开网易云音乐官网 ")]),e("li",[t._v('点击右上角的"登录"')]),e("li",[t._v("点击您的头像，进入我的主页")]),e("li",[t._v("复制浏览器地址栏/user/home?id=后面的数字")])])])])],1)}),l=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("h1",{staticClass:"header"},[e("a",{attrs:{href:"https://github.com/Dmaziyo?tab=repositories",target:"_blank"}},[t._v("MaZiYo在线音乐播放器")])])}],d=e("b611"),f={data:function(){return{user:{},uidValue:""}},components:{MzDialog:d["a"]},methods:{openDialog:function(t){switch(t){case 0:this.$refs.loginDialog.show();break;case 1:this.$refs.loginDialog.hide(),this.$refs.helpDialog.show()}},login:function(){if(""===this.uidValue)return console.log("UID 不能为空"),void this.openDialog(0)}}},m=f,h=(e("f031"),e("2877")),p=Object(h["a"])(m,s,l,!1,null,null,null),b=p.exports,v=e("365c"),g=e("db49"),y=e("2f62"),_={components:{MzHeader:b},created:function(){var t=this;Object(v["c"])(g["b"]).then((function(n){var e=n.tracks.slice(0,100);t.setPlaylist({list:e})})),this.$nextTick((function(){t.setAudioEle(t.$refs.mzPlayer)}))},methods:Object(c["a"])(Object(c["a"])({},Object(y["d"])({setAudioEle:"SET_AUDIOELE"})),Object(y["b"])(["setPlaylist"]))},O=_,w=(e("7c55"),Object(h["a"])(O,a,u,!1,null,null,null)),x=w.exports,j=(e("d3b7"),e("3ca3"),e("ddb0"),e("8c4f"));o["a"].use(j["a"]);var k=[{path:"/",redirect:"/music"},{path:"/music",component:function(){return e.e("chunk-13237a90").then(e.bind(null,"b76b"))},redirect:"/music/playlist",children:[{path:"/music/playlist",component:function(){return e.e("chunk-81fd3794").then(e.bind(null,"8184"))},meta:{keepAlive:!0}},{path:"/music/historylist",component:function(){return e.e("chunk-716a7002").then(e.bind(null,"1a25"))},meta:{keepAlive:!0}},{path:"/music/search",component:function(){return e.e("chunk-3b52079b").then(e.bind(null,"650b"))},meta:{keepAlive:!0}}]}],E=new j["a"]({routes:k}),S=E,T=(e("a9e3"),e("5d2d")),C={audioEle:null,mode:Number(Object(T["b"])())||g["d"].listLoop,playing:!1,playList:[],orderList:[],currentIndex:-1,historyList:Object(T["a"])()||[],uid:Object(T["c"])()||null},L=C,P=function(t){return t.audioEle},z=function(t){return t.mode},I=function(t){return t.playing},D=function(t){return t.playList},A=function(t){return t.orderList},$=function(t){return t.currentIndex},N=function(t){return t.playList[t.currentIndex]||{}},M=function(t){return t.historyList},U=function(t){return t.uid},B=e("2909"),R=(e("c740"),e("9fb0"));function V(t,n){return t.findIndex((function(t){return t.id===n.id}))}var H,J=function(t,n){var e=t.commit,r=n.list;e(R["f"],r),e(R["d"],r)},Y=function(t,n){var e=t.commit;e(R["c"],Object(T["f"])(n))},q=function(t,n){var e=t.commit;e(R["c"],Object(T["e"])(n))},F=function(t,n){var e=t.commit,r=n.list,i=n.index;e(R["f"],r),e(R["d"],r),e(R["b"],i),e(R["e"],!0)},G=function(t,n){var e=t.commit,r=t.state,i=Object(B["a"])(r.playList),o=V(i,n);o>-1?e(R["b"],o):(i.unshift(n),console.log(i),e(R["f"],i),e(R["d"],i),e(R["b"],0)),e(R["e"],!0)},K=function(t,n){var e=t.commit,r=t.state,i=n.index,o=n.list,a=r.currentIndex;(i<a||o.length===r.currentIndex)&&(a--,e(R["b"],a)),e(R["f"],o),e(R["d"],o),o.length?e(R["e"],!0):e(R["e"],!1)},X=e("ade3"),Z=(H={},Object(X["a"])(H,R["a"],(function(t,n){t.audioEle=n})),Object(X["a"])(H,R["g"],(function(t,n){t.mode=n})),Object(X["a"])(H,R["e"],(function(t,n){t.playing=n})),Object(X["a"])(H,R["f"],(function(t,n){t.playList=n})),Object(X["a"])(H,R["d"],(function(t,n){t.orderList=n})),Object(X["a"])(H,R["b"],(function(t,n){t.currentIndex=n})),Object(X["a"])(H,R["c"],(function(t,n){t.historyList=n})),Object(X["a"])(H,R["h"],(function(t,n){t.uid=n})),H),Q=Z;o["a"].use(y["a"]);var W,tt,nt=new y["a"].Store({state:L,getters:r,mutations:Q,actions:i}),et=(e("a4b1"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"toast-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mz-toast",class:t.positionClass},[t._v(t._s(t.message))])])}),rt=[],it={name:"MzToast",data:function(){return{position:"center",message:"默认消息",duration:1500,visible:!0}},computed:{positionClass:function(){return"mz-toast-"+this.position}}},ot=it,at=(e("dbb5"),Object(h["a"])(ot,et,rt,!1,null,null,null)),ut=at.exports,ct=!1,st={install:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=ut.data();Object.assign(e,n),t.prototype.$mzToast=function(n,r){ct&&(clearTimeout(tt),W.vm.visible=ct=!1,document.body.removeChild(W.vm.$el)),n&&(e.message=n),r&&(e.position=r);var i=t.extend(ut);W=new i({data:e}),W.vm=W.$mount(),document.body.appendChild(W.vm.$el),W.vm.visible=ct=!0,tt=setTimeout((function(){W.vm.visible=ct=!1,document.body.removeChild(W.vm.$el)}),e.duration)}}},lt=st;o["a"].config.productionTip=!1,o["a"].use(lt),new o["a"]({router:S,store:nt,render:function(t){return t(x)}}).$mount("#app")},"5ba8":function(t,n,e){},"5d2d":function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"f",(function(){return s})),e.d(n,"e",(function(){return l})),e.d(n,"b",(function(){return f})),e.d(n,"c",(function(){return h})),e.d(n,"d",(function(){return b})),e.d(n,"g",(function(){return v}));e("c740"),e("a434"),e("e9c4"),e("a9e3");var r=e("db49"),i=window.localStorage,o={get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(i)return i.getItem(t)?Array.isArray(n)?JSON.parse(i.getItem(t)):i.getItem(t):n},set:function(t,n){i&&i.setItem(t,n)},clear:function(t){i&&i.removeItem(t)}},a="__mzPlayer_historyList__",u=200;function c(){return o.get(a)}function s(t){var n=o.get(a),e=n.findIndex((function(n){return n.id===t.id}));if(0===e)return n;e>0&&n.splice(e,1);var r=n.unshift(t);return u&&r>u&&n.pop(),o.set(a,JSON.stringify(n)),n}function l(t){return o.set(a,JSON.stringify(t)),t}var d="__mzPlayer_mode__";function f(){return o.get(d,null)}var m="__mzPlayer_userID__";function h(){return Number(o.get(m,null))}var p="__mzPlayer_volume__";function b(){var t=o.get(p,r["c"]);return Number(t)}function v(t){return o.set(p,t),t}},"7c55":function(t,n,e){"use strict";e("5ba8")},8318:function(t,n,e){},"9fb0":function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"g",(function(){return i})),e.d(n,"e",(function(){return o})),e.d(n,"f",(function(){return a})),e.d(n,"d",(function(){return u})),e.d(n,"b",(function(){return c})),e.d(n,"c",(function(){return s})),e.d(n,"h",(function(){return l}));var r="SET_AUDIOELE",i="SET_PLAYMODE",o="SET_PLAYING",a="SET_PLAYLIST",u="SET_ORDERLIST",c="SET_CURRENTINDEX",s="SET_HISTORYLIST",l="SET_UID"},a4b1:function(t,n,e){},b611:function(t,n,e){"use strict";var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"mz-dialog-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogShow,expression:"dialogShow"}],staticClass:"mz-dialog-box"},[e("div",{staticClass:"mz-dialog-wrapper"},[e("div",{staticClass:"mz-dialog-content"},[e("div",{staticClass:"mz-dialog-head",domProps:{textContent:t._s(t.headText)}}),t._t("default"),e("div",{staticClass:"mz-dialog-btns"},["alert"!==t.dialogType?e("div",{staticClass:"mz-dialog-cancel",domProps:{textContent:t._s(t.cancelBtnText)},on:{click:t.cancel}}):t._e(),t._t("btn"),e("div",{staticClass:"mz-btn-confirm",domProps:{textContent:t._s(t.confirmBtnText)},on:{click:t.confirm}})],2)],2)])])])},i=[],o={name:"MzDialog",props:{type:{type:String,default:"confirm"},headText:{type:String,default:"提示"},cancelBtnText:{type:String,default:"关闭"},confirmBtnText:{type:String,default:"确定"}},data:function(){return{dialogShow:!1}},computed:{dialogType:function(){return this.type.toLowerCase()}},methods:{show:function(){this.dialogShow=!0},hide:function(){this.dialogShow=!1},confirm:function(){this.hide(),this.$emit("confirm")},cancel:function(){this.hide(),this.$emit("cancel")}}},a=o,u=(e("fe24"),e("2877")),c=Object(u["a"])(a,r,i,!1,null,null,null);n["a"]=c.exports},ca00:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return c}));e("99af"),e("ac1f"),e("1276"),e("498a"),e("5319");function r(t){return t<10?"0"+t:t}function i(t){var n=Math.floor(t/60),e=Math.floor(t%60);return"".concat(r(n),":").concat(r(e))}var o=/\[(\d{2,}):(\d{2})\.(\d{2,3})]/g;function a(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;r++){var i=n[r],a=o.exec(i);if(a){var u=i.replace(o,"").trim();u&&e.push({time:60*a[1]+1*a[2]+.001*(a[3]||0),text:u})}}return e}function u(t){return"string"===typeof t}function c(t){return u(t)?t.replace("http://","https://"):t}},db49:function(t,n,e){"use strict";e.d(n,"d",(function(){return r})),e.d(n,"c",(function(){return i})),e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return a}));var r={listLoop:0,order:1,random:2,loop:3},i=.8,o=3778678,a=30},dbb5:function(t,n,e){"use strict";e("8318")},eb4d:function(t,n,e){"use strict";e.d(n,"b",(function(){return s})),e.d(n,"a",(function(){return d}));var r=e("bee2"),i=e("d4ec"),o=(e("b0c0"),e("d3b7"),e("159b"),e("a15b"),e("ca00")),a=Object(r["a"])((function t(n){var e=n.id,r=n.name,o=n.singer,a=n.album,u=n.image,c=n.duration,s=n.url;Object(i["a"])(this,t),this.id=e,this.name=r,this.singer=o,this.album=a,this.image=u,this.duration=c,this.url=s}));function u(t){var n=[];return t.forEach((function(t){n.push(t.name)})),n.join("/")}function c(t){return new a({id:t.id,name:t.name,singer:t.ar.length>0&&u(t.ar),album:t.al.name,image:Object(o["c"])(t.al.picUrl)||null,duration:t.dt/1e3,url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3")})}var s=function(t){var n=[];return t.forEach((function(t){var e=t;e.id&&n.push(c(e))})),n};function l(t){return new a({id:t.id,name:t.name,singer:t.artists.length>0&&u(t.artists),album:t.album.name,image:Object(o["c"])(t.artists.picUrl)||null,duration:t.duration/1e3,url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3")})}var d=function(t){var n=[];return t.forEach((function(t){var e=t;e.id&&n.push(l(e))})),n}},f031:function(t,n,e){"use strict";e("067a")},fe24:function(t,n,e){"use strict";e("2292")}});
//# sourceMappingURL=app.767f358e.js.map