(function(t){function e(e){for(var r,i,u=e[0],c=e[1],s=e[2],l=0,d=[];l<u.length;l++)i=u[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={app:0},o={app:0},a=[];function u(t){return c.p+"static/js/"+({}[t]||t)+"."+{"chunk-0ec2defe":"27fb251b","chunk-3b52079b":"95ab6960","chunk-716a7002":"e106a4a5","chunk-81fd3794":"4f83ed27"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-0ec2defe":1,"chunk-3b52079b":1,"chunk-716a7002":1,"chunk-81fd3794":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var r="static/css/"+({}[t]||t)+"."+{"chunk-0ec2defe":"5dc88995","chunk-3b52079b":"38d577d6","chunk-716a7002":"e24163fd","chunk-81fd3794":"5e047a24"}[t]+".css",o=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=a[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return e()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===r||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete i[t],f.parentNode.removeChild(f),n(a)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){i[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(t);var d=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"067a":function(t,e,n){},2292:function(t,e,n){},"365c":function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"e",(function(){return m})),n.d(e,"d",(function(){return h}));n("d3b7"),n("d9e2"),n("25f0"),n("d81d"),n("fb6a");var r=n("bc3a"),i=n.n(r),o=n("2b0e"),a=i.a.create({baseURL:"http://192.168.1.178:3000"});a.interceptors.response.use((function(t){return window.response=t,200===t.status&&200===t.data.code?t.data:Promise.reject(t)}),(function(t){return o["a"].prototype.$mzToast(t.response?t.response.data.message:"网络连接错误"),t}));var u=a,c=n("eb4d"),s=n("db49");function l(t){return new Promise((function(e,n){u.get("/playlist/detail",{params:{id:t}}).then((function(t){var e=t.playlist;return e||{}})).then((function(t){var r=t.trackIds,i=t.tracks;if(Array.isArray(r)){if(i.length===r.length)return t.tracks=Object(c["b"])(t.tracks),void e(t);var o=r.slice(0,500).map((function(t){return t.id})).toString();d(o).then((function(n){var r=n.songs;t.tracks=Object(c["b"])(r),e(t)}))}else n(new Error("获取歌单详细失败"))}))}))}function d(t){return u.get("/song/detail",{params:{ids:t}})}function f(t){return u.get("/lyric",{params:{id:t}})}function m(){return u.get("/search/hot")}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s["a"];return u.get("/search",{params:{offset:e*n,limit:n,keywords:t}})}},"56d7":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"audioEle",(function(){return P})),n.d(r,"mode",(function(){return z})),n.d(r,"playing",(function(){return I})),n.d(r,"playList",(function(){return D})),n.d(r,"orderList",(function(){return A})),n.d(r,"currentIndex",(function(){return $})),n.d(r,"currentMusic",(function(){return N})),n.d(r,"historyList",(function(){return M})),n.d(r,"uid",(function(){return U}));var i={};n.r(i),n.d(i,"setPlaylist",(function(){return J})),n.d(i,"setHistory",(function(){return Y})),n.d(i,"removeHistory",(function(){return q})),n.d(i,"selectPlay",(function(){return F})),n.d(i,"selectAddPlay",(function(){return G})),n.d(i,"removePlayList",(function(){return K}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("mz-header"),n("router-view",{staticClass:"router-view"}),n("audio",{ref:"mzPlayer"})],1)},u=[],c=n("5530"),s=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"mz-header"},[t._m(0),n("div",{staticClass:"user"},[n("div",{staticClass:"user-btn",on:{click:function(e){return t.openDialog(0)}}},[t._v("登录")])]),n("mz-dialog",{ref:"loginDialog",attrs:{"head-text":"登录","confirm-btn-text":"登录","cancel-btn-text":"关闭"},on:{confirm:t.login}},[n("div",{staticClass:"mz-dialog-text"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.uidValue,expression:"uidValue",modifiers:{trim:!0}}],staticClass:"mz-dialog-input",attrs:{autofocus:"",placeholder:"请输入您的网易云UID",type:"number"},domProps:{value:t.uidValue},on:{input:function(e){e.target.composing||(t.uidValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("div",{attrs:{slot:"btn"},on:{click:function(e){return t.openDialog(1)}},slot:"btn"},[t._v("帮助")])]),n("mz-dialog",{ref:"helpDialog",attrs:{"head-text":"登录帮助","confirm-btn-text":"去登录","cancel-btn-text":"关闭"},on:{confirm:function(e){return t.openDialog(0)}}},[n("div",{staticClass:"mz-dialog-text"},[n("ol",[n("li",[n("a",{attrs:{target:"_blank",href:"https://music.163.com/"}},[t._v("点我(https://music.163.com/)")]),t._v("打开网易云音乐官网 ")]),n("li",[t._v('点击右上角的"登录"')]),n("li",[t._v("点击您的头像，进入我的主页")]),n("li",[t._v("复制浏览器地址栏/user/home?id=后面的数字")])])])])],1)}),l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"header"},[n("a",{attrs:{href:"https://github.com/Dmaziyo?tab=repositories",target:"_blank"}},[t._v("MaZiYo在线音乐播放器")])])}],d=n("b611"),f={data:function(){return{user:{},uidValue:""}},components:{MzDialog:d["a"]},methods:{openDialog:function(t){switch(t){case 0:this.$refs.loginDialog.show();break;case 1:this.$refs.loginDialog.hide(),this.$refs.helpDialog.show()}},login:function(){if(""===this.uidValue)return console.log("UID 不能为空"),void this.openDialog(0)}}},m=f,h=(n("f031"),n("2877")),p=Object(h["a"])(m,s,l,!1,null,null,null),b=p.exports,v=n("365c"),g=n("db49"),y=n("2f62"),_={components:{MzHeader:b},created:function(){var t=this;Object(v["c"])(g["b"]).then((function(e){var n=e.tracks.slice(0,100);t.setPlaylist({list:n})})),this.$nextTick((function(){t.setAudioEle(t.$refs.mzPlayer)}))},methods:Object(c["a"])(Object(c["a"])({},Object(y["d"])({setAudioEle:"SET_AUDIOELE"})),Object(y["b"])(["setPlaylist"]))},O=_,w=(n("7c55"),Object(h["a"])(O,a,u,!1,null,null,null)),x=w.exports,j=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));o["a"].use(j["a"]);var k=[{path:"/",redirect:"/music"},{path:"/music",component:function(){return n.e("chunk-0ec2defe").then(n.bind(null,"b76b"))},redirect:"/music/playlist",children:[{path:"/music/playlist",component:function(){return n.e("chunk-81fd3794").then(n.bind(null,"8184"))},meta:{keepAlive:!0}},{path:"/music/historylist",component:function(){return n.e("chunk-716a7002").then(n.bind(null,"1a25"))},meta:{keepAlive:!0}},{path:"/music/search",component:function(){return n.e("chunk-3b52079b").then(n.bind(null,"650b"))},meta:{keepAlive:!0}}]}],E=new j["a"]({routes:k}),S=E,T=(n("a9e3"),n("5d2d")),C={audioEle:null,mode:Number(Object(T["b"])())||g["d"].listLoop,playing:!1,playList:[],orderList:[],currentIndex:-1,historyList:Object(T["a"])()||[],uid:Object(T["c"])()||null},L=C,P=function(t){return t.audioEle},z=function(t){return t.mode},I=function(t){return t.playing},D=function(t){return t.playList},A=function(t){return t.orderList},$=function(t){return t.currentIndex},N=function(t){return t.playList[t.currentIndex]||{}},M=function(t){return t.historyList},U=function(t){return t.uid},B=n("2909"),R=(n("c740"),n("9fb0"));function V(t,e){return t.findIndex((function(t){return t.id===e.id}))}var H,J=function(t,e){var n=t.commit,r=e.list;n(R["f"],r),n(R["d"],r)},Y=function(t,e){var n=t.commit;n(R["c"],Object(T["f"])(e))},q=function(t,e){var n=t.commit;n(R["c"],Object(T["e"])(e))},F=function(t,e){var n=t.commit,r=e.list,i=e.index;n(R["f"],r),n(R["d"],r),n(R["b"],i),n(R["e"],!0)},G=function(t,e){var n=t.commit,r=t.state,i=Object(B["a"])(r.playList),o=V(i,e);o>-1?n(R["b"],o):(i.unshift(e),console.log(i),n(R["f"],i),n(R["d"],i),n(R["b"],0)),n(R["e"],!0)},K=function(t,e){var n=t.commit,r=t.state,i=e.index,o=e.list,a=r.currentIndex;(i<a||o.length===r.currentIndex)&&(a--,n(R["b"],a)),n(R["f"],o),n(R["d"],o),o.length?n(R["e"],!0):n(R["e"],!1)},X=n("ade3"),Z=(H={},Object(X["a"])(H,R["a"],(function(t,e){t.audioEle=e})),Object(X["a"])(H,R["g"],(function(t,e){t.mode=e})),Object(X["a"])(H,R["e"],(function(t,e){t.playing=e})),Object(X["a"])(H,R["f"],(function(t,e){t.playList=e})),Object(X["a"])(H,R["d"],(function(t,e){t.orderList=e})),Object(X["a"])(H,R["b"],(function(t,e){t.currentIndex=e})),Object(X["a"])(H,R["c"],(function(t,e){t.historyList=e})),Object(X["a"])(H,R["h"],(function(t,e){t.uid=e})),H),Q=Z;o["a"].use(y["a"]);var W,tt,et=new y["a"].Store({state:L,getters:r,mutations:Q,actions:i}),nt=(n("a4b1"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"toast-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mz-toast",class:t.positionClass},[t._v(t._s(t.message))])])}),rt=[],it={name:"MzToast",data:function(){return{position:"center",message:"默认消息",duration:1500,visible:!0}},computed:{positionClass:function(){return"mz-toast-"+this.position}}},ot=it,at=(n("dbb5"),Object(h["a"])(ot,nt,rt,!1,null,null,null)),ut=at.exports,ct=!1,st={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ut.data();Object.assign(n,e),t.prototype.$mzToast=function(e,r){ct&&(clearTimeout(tt),W.vm.visible=ct=!1,document.body.removeChild(W.vm.$el)),e&&(n.message=e),r&&(n.position=r);var i=t.extend(ut);W=new i({data:n}),W.vm=W.$mount(),document.body.appendChild(W.vm.$el),W.vm.visible=ct=!0,tt=setTimeout((function(){W.vm.visible=ct=!1,document.body.removeChild(W.vm.$el)}),n.duration)}}},lt=st;o["a"].config.productionTip=!1,o["a"].use(lt),new o["a"]({router:S,store:et,render:function(t){return t(x)}}).$mount("#app")},"5ba8":function(t,e,n){},"5d2d":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return b})),n.d(e,"g",(function(){return v}));n("c740"),n("a434"),n("e9c4"),n("a9e3");var r=n("db49"),i=window.localStorage,o={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(i)return i.getItem(t)?Array.isArray(e)?JSON.parse(i.getItem(t)):i.getItem(t):e},set:function(t,e){i&&i.setItem(t,e)},clear:function(t){i&&i.removeItem(t)}},a="__mzPlayer_historyList__",u=200;function c(){return o.get(a)}function s(t){var e=o.get(a),n=e.findIndex((function(e){return e.id===t.id}));if(0===n)return e;n>0&&e.splice(n,1);var r=e.unshift(t);return u&&r>u&&e.pop(),o.set(a,JSON.stringify(e)),e}function l(t){return o.set(a,JSON.stringify(t)),t}var d="__mzPlayer_mode__";function f(){return o.get(d,null)}var m="__mzPlayer_userID__";function h(){return Number(o.get(m,null))}var p="__mzPlayer_volume__";function b(){var t=o.get(p,r["c"]);return Number(t)}function v(t){return o.set(p,t),t}},"7c55":function(t,e,n){"use strict";n("5ba8")},8318:function(t,e,n){},"9fb0":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"g",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"h",(function(){return l}));var r="SET_AUDIOELE",i="SET_PLAYMODE",o="SET_PLAYING",a="SET_PLAYLIST",u="SET_ORDERLIST",c="SET_CURRENTINDEX",s="SET_HISTORYLIST",l="SET_UID"},a4b1:function(t,e,n){},b611:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mz-dialog-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogShow,expression:"dialogShow"}],staticClass:"mz-dialog-box"},[n("div",{staticClass:"mz-dialog-wrapper"},[n("div",{staticClass:"mz-dialog-content"},[n("div",{staticClass:"mz-dialog-head",domProps:{textContent:t._s(t.headText)}}),t._t("default"),n("div",{staticClass:"mz-dialog-btns"},["alert"!==t.dialogType?n("div",{staticClass:"mz-dialog-cancel",domProps:{textContent:t._s(t.cancelBtnText)},on:{click:t.cancel}}):t._e(),t._t("btn"),n("div",{staticClass:"mz-btn-confirm",domProps:{textContent:t._s(t.confirmBtnText)},on:{click:t.confirm}})],2)],2)])])])},i=[],o={name:"MzDialog",props:{type:{type:String,default:"confirm"},headText:{type:String,default:"提示"},cancelBtnText:{type:String,default:"关闭"},confirmBtnText:{type:String,default:"确定"}},data:function(){return{dialogShow:!1}},computed:{dialogType:function(){return this.type.toLowerCase()}},methods:{show:function(){this.dialogShow=!0},hide:function(){this.dialogShow=!1},confirm:function(){this.hide(),this.$emit("confirm")},cancel:function(){this.hide(),this.$emit("cancel")}}},a=o,u=(n("fe24"),n("2877")),c=Object(u["a"])(a,r,i,!1,null,null,null);e["a"]=c.exports},ca00:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));n("99af"),n("ac1f"),n("1276"),n("498a"),n("5319");function r(t){return t<10?"0"+t:t}function i(t){var e=Math.floor(t/60),n=Math.floor(t%60);return"".concat(r(e),":").concat(r(n))}var o=/\[(\d{2,}):(\d{2})\.(\d{2,3})]/g;function a(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;r++){var i=e[r],a=o.exec(i);if(a){var u=i.replace(o,"").trim();u&&n.push({time:60*a[1]+1*a[2]+.001*(a[3]||0),text:u})}}return n}function u(t){return"string"===typeof t}function c(t){return u(t)?t.replace("http://","https://"):t}},db49:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r={listLoop:0,order:1,random:2,loop:3},i=.8,o=3778678,a=30},dbb5:function(t,e,n){"use strict";n("8318")},eb4d:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return d}));var r=n("bee2"),i=n("d4ec"),o=(n("b0c0"),n("d3b7"),n("159b"),n("a15b"),n("ca00")),a=Object(r["a"])((function t(e){var n=e.id,r=e.name,o=e.singer,a=e.album,u=e.image,c=e.duration,s=e.url;Object(i["a"])(this,t),this.id=n,this.name=r,this.singer=o,this.album=a,this.image=u,this.duration=c,this.url=s}));function u(t){var e=[];return t.forEach((function(t){e.push(t.name)})),e.join("/")}function c(t){return new a({id:t.id,name:t.name,singer:t.ar.length>0&&u(t.ar),album:t.al.name,image:Object(o["c"])(t.al.picUrl)||null,duration:t.dt/1e3,url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3")})}var s=function(t){var e=[];return t.forEach((function(t){var n=t;n.id&&e.push(c(n))})),e};function l(t){return new a({id:t.id,name:t.name,singer:t.artists.length>0&&u(t.artists),album:t.album.name,image:Object(o["c"])(t.artists.picUrl)||null,duration:t.duration/1e3,url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3")})}var d=function(t){var e=[];return t.forEach((function(t){var n=t;n.id&&e.push(l(n))})),e}},f031:function(t,e,n){"use strict";n("067a")},fe24:function(t,e,n){"use strict";n("2292")}});
//# sourceMappingURL=app.e8af7af1.js.map